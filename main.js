/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target, mod));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/centra/model/CentraResponse.js
var require_CentraResponse = __commonJS({
  "node_modules/centra/model/CentraResponse.js"(exports, module2) {
    module2.exports = class CentraResponse {
      constructor(res, resOptions) {
        this.coreRes = res;
        this.resOptions = resOptions;
        this.body = Buffer.alloc(0);
        this.headers = res.headers;
        this.statusCode = res.statusCode;
      }
      _addChunk(chunk) {
        this.body = Buffer.concat([this.body, chunk]);
      }
      async json() {
        return this.statusCode === 204 ? null : JSON.parse(this.body);
      }
      async text() {
        return this.body.toString();
      }
    };
  }
});

// node_modules/centra/model/CentraRequest.js
var require_CentraRequest = __commonJS({
  "node_modules/centra/model/CentraRequest.js"(exports, module2) {
    var path = require("path");
    var http = require("http");
    var https = require("https");
    var qs = require("querystring");
    var zlib = require("zlib");
    var { URL } = require("url");
    var CentraResponse = require_CentraResponse();
    var supportedCompressions = ["gzip", "deflate", "br"];
    module2.exports = class CentraRequest {
      constructor(url, method = "GET") {
        this.url = typeof url === "string" ? new URL(url) : url;
        this.method = method;
        this.data = null;
        this.sendDataAs = null;
        this.reqHeaders = {};
        this.streamEnabled = false;
        this.compressionEnabled = false;
        this.timeoutTime = null;
        this.coreOptions = {};
        this.resOptions = {
          "maxBuffer": 50 * 1e6
        };
        return this;
      }
      query(a1, a2) {
        if (typeof a1 === "object") {
          Object.keys(a1).forEach((queryKey) => {
            this.url.searchParams.append(queryKey, a1[queryKey]);
          });
        } else
          this.url.searchParams.append(a1, a2);
        return this;
      }
      path(relativePath) {
        this.url.pathname = path.join(this.url.pathname, relativePath);
        return this;
      }
      body(data, sendAs) {
        this.sendDataAs = typeof data === "object" && !sendAs && !Buffer.isBuffer(data) ? "json" : sendAs ? sendAs.toLowerCase() : "buffer";
        this.data = this.sendDataAs === "form" ? qs.stringify(data) : this.sendDataAs === "json" ? JSON.stringify(data) : data;
        return this;
      }
      header(a1, a2) {
        if (typeof a1 === "object") {
          Object.keys(a1).forEach((headerName) => {
            this.reqHeaders[headerName.toLowerCase()] = a1[headerName];
          });
        } else
          this.reqHeaders[a1.toLowerCase()] = a2;
        return this;
      }
      timeout(timeout) {
        this.timeoutTime = timeout;
        return this;
      }
      option(name, value) {
        this.coreOptions[name] = value;
        return this;
      }
      stream() {
        this.streamEnabled = true;
        return this;
      }
      compress() {
        this.compressionEnabled = true;
        if (!this.reqHeaders["accept-encoding"])
          this.reqHeaders["accept-encoding"] = supportedCompressions.join(", ");
        return this;
      }
      send() {
        return new Promise((resolve, reject) => {
          if (this.data) {
            if (!this.reqHeaders.hasOwnProperty("content-type")) {
              if (this.sendDataAs === "json") {
                this.reqHeaders["content-type"] = "application/json";
              } else if (this.sendDataAs === "form") {
                this.reqHeaders["content-type"] = "application/x-www-form-urlencoded";
              }
            }
            if (!this.reqHeaders.hasOwnProperty("content-length")) {
              this.reqHeaders["content-length"] = Buffer.byteLength(this.data);
            }
          }
          const options = Object.assign({
            "protocol": this.url.protocol,
            "host": this.url.hostname.replace("[", "").replace("]", ""),
            "port": this.url.port,
            "path": this.url.pathname + (this.url.search === null ? "" : this.url.search),
            "method": this.method,
            "headers": this.reqHeaders
          }, this.coreOptions);
          let req;
          const resHandler = (res) => {
            let stream = res;
            if (this.compressionEnabled) {
              if (res.headers["content-encoding"] === "gzip") {
                stream = res.pipe(zlib.createGunzip());
              } else if (res.headers["content-encoding"] === "deflate") {
                stream = res.pipe(zlib.createInflate());
              } else if (res.headers["content-encoding"] === "br") {
                stream = res.pipe(zlib.createBrotliDecompress());
              }
            }
            let centraRes;
            if (this.streamEnabled) {
              resolve(stream);
            } else {
              centraRes = new CentraResponse(res, this.resOptions);
              stream.on("error", (err) => {
                reject(err);
              });
              stream.on("aborted", () => {
                reject(new Error("Server aborted request"));
              });
              stream.on("data", (chunk) => {
                centraRes._addChunk(chunk);
                if (this.resOptions.maxBuffer !== null && centraRes.body.length > this.resOptions.maxBuffer) {
                  stream.destroy();
                  reject("Received a response which was longer than acceptable when buffering. (" + this.body.length + " bytes)");
                }
              });
              stream.on("end", () => {
                resolve(centraRes);
              });
            }
          };
          if (this.url.protocol === "http:") {
            req = http.request(options, resHandler);
          } else if (this.url.protocol === "https:") {
            req = https.request(options, resHandler);
          } else
            throw new Error("Bad URL protocol: " + this.url.protocol);
          if (this.timeoutTime) {
            req.setTimeout(this.timeoutTime, () => {
              req.abort();
              if (!this.streamEnabled) {
                reject(new Error("Timeout reached"));
              }
            });
          }
          req.on("error", (err) => {
            reject(err);
          });
          if (this.data)
            req.write(this.data);
          req.end();
        });
      }
    };
  }
});

// node_modules/centra/createRequest.js
var require_createRequest = __commonJS({
  "node_modules/centra/createRequest.js"(exports, module2) {
    var CentraRequest = require_CentraRequest();
    module2.exports = (url, method) => {
      return new CentraRequest(url, method);
    };
  }
});

// node_modules/phin/lib/phin.js
var require_phin = __commonJS({
  "node_modules/phin/lib/phin.js"(exports, module2) {
    var { URL } = require("url");
    var centra = require_createRequest();
    var phin = async (opts) => {
      if (typeof opts !== "string") {
        if (!opts.hasOwnProperty("url")) {
          throw new Error("Missing url option from options for request method.");
        }
      }
      const req = centra(typeof opts === "object" ? opts.url : opts, opts.method || "GET");
      if (opts.headers)
        req.header(opts.headers);
      if (opts.stream)
        req.stream();
      if (opts.timeout)
        req.timeout(opts.timeout);
      if (opts.data)
        req.body(opts.data);
      if (opts.form)
        req.body(opts.form, "form");
      if (opts.compression)
        req.compress();
      if (typeof opts.core === "object") {
        Object.keys(opts.core).forEach((optName) => {
          req.option(optName, opts.core[optName]);
        });
      }
      const res = await req.send();
      if (res.headers.hasOwnProperty("location") && opts.followRedirects) {
        opts.url = new URL(res.headers["location"], opts.url).toString();
        return await phin(opts);
      }
      if (opts.stream) {
        res.stream = res;
        return res;
      } else {
        res.coreRes.body = res.body;
        if (opts.parse) {
          if (opts.parse === "json") {
            res.coreRes.body = await res.json();
            return res.coreRes;
          } else if (opts.parse === "string") {
            res.coreRes.body = res.coreRes.body.toString();
            return res.coreRes;
          }
        }
        return res.coreRes;
      }
    };
    phin.promisified = phin;
    phin.unpromisified = (opts, cb) => {
      phin(opts).then((data) => {
        if (cb)
          cb(null, data);
      }).catch((err) => {
        if (cb)
          cb(err, null);
      });
    };
    phin.defaults = (defaultOpts) => async (opts) => {
      const nops = typeof opts === "string" ? { "url": opts } : opts;
      Object.keys(defaultOpts).forEach((doK) => {
        if (!nops.hasOwnProperty(doK) || nops[doK] === null) {
          nops[doK] = defaultOpts[doK];
        }
      });
      return await phin(nops);
    };
    module2.exports = phin;
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => YTranscript
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// transcript-view.ts
var import_obsidian = require("obsidian");

// node_modules/youtube-transcript/dist/youtube-transcript.esm.js
var import_phin = __toESM(require_phin());
var extendStatics = function(d, b) {
  extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
    d2.__proto__ = b2;
  } || function(d2, b2) {
    for (var p2 in b2)
      if (Object.prototype.hasOwnProperty.call(b2, p2))
        d2[p2] = b2[p2];
  };
  return extendStatics(d, b);
};
function __extends(d, b) {
  extendStatics(d, b);
  function __() {
    this.constructor = d;
  }
  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}
function __awaiter(thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function(resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}
function __generator(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t[0] & 1)
      throw t[1];
    return t[1];
  }, trys: [], ops: [] }, f, y, t, g;
  return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
    return this;
  }), g;
  function verb(n) {
    return function(v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f)
      throw new TypeError("Generator is already executing.");
    while (_)
      try {
        if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
          return t;
        if (y = 0, t)
          op = [op[0] & 2, t.value];
        switch (op[0]) {
          case 0:
          case 1:
            t = op;
            break;
          case 4:
            _.label++;
            return { value: op[1], done: false };
          case 5:
            _.label++;
            y = op[1];
            op = [0];
            continue;
          case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;
          default:
            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }
            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
              _.label = op[1];
              break;
            }
            if (op[0] === 6 && _.label < t[1]) {
              _.label = t[1];
              t = op;
              break;
            }
            if (t && _.label < t[2]) {
              _.label = t[2];
              _.ops.push(op);
              break;
            }
            if (t[2])
              _.ops.pop();
            _.trys.pop();
            continue;
        }
        op = body.call(thisArg, _);
      } catch (e) {
        op = [6, e];
        y = 0;
      } finally {
        f = t = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
}
var RE_YOUTUBE = /^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/im;
var YoutubeTranscriptError = function(_super) {
  __extends(YoutubeTranscriptError2, _super);
  function YoutubeTranscriptError2(message) {
    return _super.call(this, "[YoutubeTranscript] \u{1F6A8} " + message) || this;
  }
  return YoutubeTranscriptError2;
}(Error);
var YoutubeTranscript = function() {
  function YoutubeTranscript2() {
  }
  YoutubeTranscript2.fetchTranscript = function(videoId, config) {
    return __awaiter(this, void 0, void 0, function() {
      var identifier, videoPageBody, innerTubeApiKey, body, transcripts, e_1;
      return __generator(this, function(_a) {
        switch (_a.label) {
          case 0:
            identifier = this.retrieveVideoId(videoId);
            _a.label = 1;
          case 1:
            _a.trys.push([1, 5, , 6]);
            return [4, (0, import_phin.default)("https://www.youtube.com/watch?v=" + identifier)];
          case 2:
            videoPageBody = _a.sent().body;
            innerTubeApiKey = videoPageBody.toString().split('"INNERTUBE_API_KEY":"')[1].split('"')[0];
            if (!(innerTubeApiKey && innerTubeApiKey.length > 0))
              return [3, 4];
            return [4, (0, import_phin.default)({
              url: "https://www.youtube.com/youtubei/v1/get_transcript?key=" + innerTubeApiKey,
              method: "POST",
              data: this.generateRequest(videoPageBody.toString(), config),
              parse: "json"
            })];
          case 3:
            body = _a.sent().body;
            if (body.responseContext) {
              if (!body.actions) {
                throw new Error("Transcript is disabled on this video");
              }
              transcripts = body.actions[0].updateEngagementPanelAction.content.transcriptRenderer.body.transcriptBodyRenderer.cueGroups;
              return [2, transcripts.map(function(cue) {
                return {
                  text: cue.transcriptCueGroupRenderer.cues[0].transcriptCueRenderer.cue.simpleText,
                  duration: parseInt(cue.transcriptCueGroupRenderer.cues[0].transcriptCueRenderer.durationMs),
                  offset: parseInt(cue.transcriptCueGroupRenderer.cues[0].transcriptCueRenderer.startOffsetMs)
                };
              })];
            }
            _a.label = 4;
          case 4:
            return [3, 6];
          case 5:
            e_1 = _a.sent();
            throw new YoutubeTranscriptError(e_1);
          case 6:
            return [2];
        }
      });
    });
  };
  YoutubeTranscript2.generateRequest = function(page, config) {
    var _a, _b, _c, _d;
    var params = (_a = page.split('"serializedShareEntity":"')[1]) === null || _a === void 0 ? void 0 : _a.split('"')[0];
    var visitorData = (_b = page.split('"VISITOR_DATA":"')[1]) === null || _b === void 0 ? void 0 : _b.split('"')[0];
    var sessionId = (_c = page.split('"sessionId":"')[1]) === null || _c === void 0 ? void 0 : _c.split('"')[0];
    var clickTrackingParams = (_d = page === null || page === void 0 ? void 0 : page.split('"clickTrackingParams":"')[1]) === null || _d === void 0 ? void 0 : _d.split('"')[0];
    return {
      context: {
        client: {
          hl: (config === null || config === void 0 ? void 0 : config.lang) || "fr",
          gl: (config === null || config === void 0 ? void 0 : config.country) || "FR",
          visitorData,
          userAgent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36,gzip(gfe)",
          clientName: "WEB",
          clientVersion: "2.20200925.01.00",
          osName: "Macintosh",
          osVersion: "10_15_4",
          browserName: "Chrome",
          browserVersion: "85.0f.4183.83",
          screenWidthPoints: 1440,
          screenHeightPoints: 770,
          screenPixelDensity: 2,
          utcOffsetMinutes: 120,
          userInterfaceTheme: "USER_INTERFACE_THEME_LIGHT",
          connectionType: "CONN_CELLULAR_3G"
        },
        request: {
          sessionId,
          internalExperimentFlags: [],
          consistencyTokenJars: []
        },
        user: {},
        clientScreenNonce: this.generateNonce(),
        clickTracking: {
          clickTrackingParams
        }
      },
      params
    };
  };
  YoutubeTranscript2.generateNonce = function() {
    var rnd = Math.random().toString();
    var alphabet = "ABCDEFGHIJKLMOPQRSTUVWXYZabcdefghjijklmnopqrstuvwxyz0123456789";
    var jda = [
      alphabet + "+/=",
      alphabet + "+/",
      alphabet + "-_=",
      alphabet + "-_.",
      alphabet + "-_"
    ];
    var b = jda[3];
    var a = [];
    for (var i = 0; i < rnd.length - 1; i++) {
      a.push(rnd[i].charCodeAt(i));
    }
    var c = "";
    var d = 0;
    var m, n, q, r, f, g;
    while (d < a.length) {
      f = a[d];
      g = d + 1 < a.length;
      if (g) {
        m = a[d + 1];
      } else {
        m = 0;
      }
      n = d + 2 < a.length;
      if (n) {
        q = a[d + 2];
      } else {
        q = 0;
      }
      r = f >> 2;
      f = (f & 3) << 4 | m >> 4;
      m = (m & 15) << 2 | q >> 6;
      q &= 63;
      if (!n) {
        q = 64;
        if (!q) {
          m = 64;
        }
      }
      c += b[r] + b[f] + b[m] + b[q];
      d += 3;
    }
    return c;
  };
  YoutubeTranscript2.retrieveVideoId = function(videoId) {
    if (videoId.length === 11) {
      return videoId;
    }
    var matchId = RE_YOUTUBE.exec(videoId);
    if (matchId && matchId.length) {
      return matchId[1];
    }
    throw new YoutubeTranscriptError("Impossible to retrieve Youtube video ID.");
  };
  return YoutubeTranscript2;
}();
var youtube_transcript_esm_default = YoutubeTranscript;

// transcript-view.ts
var TRANSCRIPT_TYPE_VIEW = "transcript-view";
var formatTimestamp = (t) => {
  const fnum = (n) => n && n < 10 ? "0" + n.toFixed() : n.toFixed();
  const s = 1e3;
  const m = 60 * s;
  const h = 60 * m;
  const hours = Math.floor(t / h);
  const minutes = Math.floor((t - hours * h) / m);
  const seconds = Math.floor((t - minutes * m) / s);
  const time = hours ? [hours, minutes, seconds] : [minutes, seconds];
  return time.map(fnum).join(":");
};
var TranscriptView = class extends import_obsidian.ItemView {
  constructor(leaf) {
    super(leaf);
  }
  getViewType() {
    return TRANSCRIPT_TYPE_VIEW;
  }
  getDisplayText() {
    return "Transcript";
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h4", { text: "Transcript" });
  }
  setEphemeralState({ url, timestampMod }) {
    youtube_transcript_esm_default.fetchTranscript(url).then((data) => {
      var div = createEl("div");
      data.forEach((line, i) => {
        if (i % timestampMod == 0) {
          div = createEl("div");
          const button = createEl("button", { cls: "timestamp", attr: { "data-timestamp": line.offset.toFixed() } });
          const link = createEl("a", { text: formatTimestamp(line.offset), attr: { "href": url + "&t=" + Math.floor(line.offset / 1e3) } });
          button.appendChild(link);
          const span = this.contentEl.createEl("span", { cls: "transcript-line", text: line.text + " " });
          div.appendChild(button);
          div.appendChild(span);
          this.contentEl.appendChild(div);
        } else {
          const span = this.contentEl.createEl("span", { cls: "transcript-line", text: line.text + " " });
          div.appendChild(span);
        }
      });
    });
  }
};

// main.ts
var DEFAULT_SETTINGS = {
  timestampMod: 32
};
var YTranscript = class extends import_obsidian2.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(TRANSCRIPT_TYPE_VIEW, (leaf) => new TranscriptView(leaf));
    this.addCommand({
      id: "fetch-transcript",
      name: "Fetch transcription",
      editorCallback: (editor, _) => {
        const url = editor.getSelection().trim();
        this.openView(url);
      }
    });
    this.addSettingTab(new YTranslateSettingTab(this.app, this));
  }
  async openView(url) {
    const leaf = this.app.workspace.getRightLeaf(false);
    await leaf.setViewState({
      type: TRANSCRIPT_TYPE_VIEW
    });
    this.app.workspace.revealLeaf(leaf);
    leaf.setEphemeralState({
      url,
      timestampMod: this.settings.timestampMod
    });
  }
  onunload() {
    this.app.workspace.detachLeavesOfType(TRANSCRIPT_TYPE_VIEW);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var YTranslateSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
    const v = [...Array(99).keys()];
    this.values = v.reduce((acc, item) => (acc[item.toFixed()] = item.toFixed(), acc), {});
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for YTranslate" });
    new import_obsidian2.Setting(containerEl).setName("Timestamp mod").setDesc("Indicates how often timestamp should occure in text (1 - every line, 10 - every 10 lines)").addDropdown((v) => v.addOptions(this.values).setValue(this.values["32"]).onChange(async (value) => {
      console.log("Timestamp:" + value);
      this.plugin.settings.timestampMod = Number.parseInt(value);
      await this.plugin.saveSettings();
    }));
  }
};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2NlbnRyYS9tb2RlbC9DZW50cmFSZXNwb25zZS5qcyIsICJub2RlX21vZHVsZXMvY2VudHJhL21vZGVsL0NlbnRyYVJlcXVlc3QuanMiLCAibm9kZV9tb2R1bGVzL2NlbnRyYS9jcmVhdGVSZXF1ZXN0LmpzIiwgIm5vZGVfbW9kdWxlcy9waGluL2xpYi9waGluLmpzIiwgIm1haW4udHMiLCAidHJhbnNjcmlwdC12aWV3LnRzIiwgIm5vZGVfbW9kdWxlcy95b3V0dWJlLXRyYW5zY3JpcHQvZGlzdC95b3V0dWJlLXRyYW5zY3JpcHQuZXNtLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJtb2R1bGUuZXhwb3J0cyA9IGNsYXNzIENlbnRyYVJlc3BvbnNlIHtcblx0Y29uc3RydWN0b3IgKHJlcywgcmVzT3B0aW9ucykge1xuXHRcdHRoaXMuY29yZVJlcyA9IHJlc1xuXHRcdHRoaXMucmVzT3B0aW9ucyA9IHJlc09wdGlvbnNcblxuXHRcdHRoaXMuYm9keSA9IEJ1ZmZlci5hbGxvYygwKVxuXG5cdFx0dGhpcy5oZWFkZXJzID0gcmVzLmhlYWRlcnNcblx0XHR0aGlzLnN0YXR1c0NvZGUgPSByZXMuc3RhdHVzQ29kZVxuXHR9XG5cblx0X2FkZENodW5rIChjaHVuaykge1xuXHRcdHRoaXMuYm9keSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuYm9keSwgY2h1bmtdKVxuXHR9XG5cblx0YXN5bmMganNvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RhdHVzQ29kZSA9PT0gMjA0ID8gbnVsbCA6IEpTT04ucGFyc2UodGhpcy5ib2R5KVxuXHR9XG5cblx0YXN5bmMgdGV4dCAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuYm9keS50b1N0cmluZygpXG5cdH1cbn0iLCAiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKVxuY29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpXG5jb25zdCBxcyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJylcbmNvbnN0IHpsaWIgPSByZXF1aXJlKCd6bGliJylcbmNvbnN0IHtVUkx9ID0gcmVxdWlyZSgndXJsJylcblxuY29uc3QgQ2VudHJhUmVzcG9uc2UgPSByZXF1aXJlKCcuL0NlbnRyYVJlc3BvbnNlLmpzJylcblxuY29uc3Qgc3VwcG9ydGVkQ29tcHJlc3Npb25zID0gWydnemlwJywgJ2RlZmxhdGUnLCAnYnInXVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIENlbnRyYVJlcXVlc3Qge1xuXHRjb25zdHJ1Y3RvciAodXJsLCBtZXRob2QgPSAnR0VUJykge1xuXHRcdHRoaXMudXJsID0gdHlwZW9mIHVybCA9PT0gJ3N0cmluZycgPyBuZXcgVVJMKHVybCkgOiB1cmxcblx0XHR0aGlzLm1ldGhvZCA9IG1ldGhvZFxuXHRcdHRoaXMuZGF0YSA9IG51bGxcblx0XHR0aGlzLnNlbmREYXRhQXMgPSBudWxsXG5cdFx0dGhpcy5yZXFIZWFkZXJzID0ge31cblx0XHR0aGlzLnN0cmVhbUVuYWJsZWQgPSBmYWxzZVxuXHRcdHRoaXMuY29tcHJlc3Npb25FbmFibGVkID0gZmFsc2Vcblx0XHR0aGlzLnRpbWVvdXRUaW1lID0gbnVsbFxuXHRcdHRoaXMuY29yZU9wdGlvbnMgPSB7fVxuXG5cdFx0dGhpcy5yZXNPcHRpb25zID0ge1xuXHRcdFx0J21heEJ1ZmZlcic6IDUwICogMTAwMDAwMCAvLyA1MCBNQlxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzXG5cdH1cblxuXHRxdWVyeSAoYTEsIGEyKSB7XG5cdFx0aWYgKHR5cGVvZiBhMSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdE9iamVjdC5rZXlzKGExKS5mb3JFYWNoKChxdWVyeUtleSkgPT4ge1xuXHRcdFx0XHR0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKHF1ZXJ5S2V5LCBhMVtxdWVyeUtleV0pXG5cdFx0XHR9KVxuXHRcdH1cblx0XHRlbHNlIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoYTEsIGEyKVxuXG5cdFx0cmV0dXJuIHRoaXNcblx0fVxuXG5cdHBhdGggKHJlbGF0aXZlUGF0aCkge1xuXHRcdHRoaXMudXJsLnBhdGhuYW1lID0gcGF0aC5qb2luKHRoaXMudXJsLnBhdGhuYW1lLCByZWxhdGl2ZVBhdGgpXG5cblx0XHRyZXR1cm4gdGhpc1xuXHR9XG5cblx0Ym9keSAoZGF0YSwgc2VuZEFzKSB7XG5cdFx0dGhpcy5zZW5kRGF0YUFzID0gdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmICFzZW5kQXMgJiYgIUJ1ZmZlci5pc0J1ZmZlcihkYXRhKSA/ICdqc29uJyA6IChzZW5kQXMgPyBzZW5kQXMudG9Mb3dlckNhc2UoKSA6ICdidWZmZXInKVxuXHRcdHRoaXMuZGF0YSA9IHRoaXMuc2VuZERhdGFBcyA9PT0gJ2Zvcm0nID8gcXMuc3RyaW5naWZ5KGRhdGEpIDogKHRoaXMuc2VuZERhdGFBcyA9PT0gJ2pzb24nID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBkYXRhKVxuXG5cdFx0cmV0dXJuIHRoaXNcblx0fVxuXG5cdGhlYWRlciAoYTEsIGEyKSB7XG5cdFx0aWYgKHR5cGVvZiBhMSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdE9iamVjdC5rZXlzKGExKS5mb3JFYWNoKChoZWFkZXJOYW1lKSA9PiB7XG5cdFx0XHRcdHRoaXMucmVxSGVhZGVyc1toZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCldID0gYTFbaGVhZGVyTmFtZV1cblx0XHRcdH0pXG5cdFx0fVxuXHRcdGVsc2UgdGhpcy5yZXFIZWFkZXJzW2ExLnRvTG93ZXJDYXNlKCldID0gYTJcblxuXHRcdHJldHVybiB0aGlzXG5cdH1cblxuXHR0aW1lb3V0ICh0aW1lb3V0KSB7XG5cdFx0dGhpcy50aW1lb3V0VGltZSA9IHRpbWVvdXRcblxuXHRcdHJldHVybiB0aGlzXG5cdH1cblxuXHRvcHRpb24gKG5hbWUsIHZhbHVlKSB7XG5cdFx0dGhpcy5jb3JlT3B0aW9uc1tuYW1lXSA9IHZhbHVlXG5cblx0XHRyZXR1cm4gdGhpc1xuXHR9XG5cblx0c3RyZWFtICgpIHtcblx0XHR0aGlzLnN0cmVhbUVuYWJsZWQgPSB0cnVlXG5cblx0XHRyZXR1cm4gdGhpc1xuXHR9XG5cblx0Y29tcHJlc3MgKCkge1xuXHRcdHRoaXMuY29tcHJlc3Npb25FbmFibGVkID0gdHJ1ZVxuXG5cdFx0aWYgKCF0aGlzLnJlcUhlYWRlcnNbJ2FjY2VwdC1lbmNvZGluZyddKSB0aGlzLnJlcUhlYWRlcnNbJ2FjY2VwdC1lbmNvZGluZyddID0gc3VwcG9ydGVkQ29tcHJlc3Npb25zLmpvaW4oJywgJylcblxuXHRcdHJldHVybiB0aGlzXG5cdH1cblxuXHRzZW5kICgpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMuZGF0YSkge1xuXHRcdFx0XHRpZiAoIXRoaXMucmVxSGVhZGVycy5oYXNPd25Qcm9wZXJ0eSgnY29udGVudC10eXBlJykpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5zZW5kRGF0YUFzID09PSAnanNvbicpIHtcblx0XHRcdFx0XHRcdHRoaXMucmVxSGVhZGVyc1snY29udGVudC10eXBlJ10gPSAnYXBwbGljYXRpb24vanNvbidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5zZW5kRGF0YUFzID09PSAnZm9ybScpIHtcblx0XHRcdFx0XHRcdHRoaXMucmVxSGVhZGVyc1snY29udGVudC10eXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghdGhpcy5yZXFIZWFkZXJzLmhhc093blByb3BlcnR5KCdjb250ZW50LWxlbmd0aCcpKSB7XG5cdFx0XHRcdFx0dGhpcy5yZXFIZWFkZXJzWydjb250ZW50LWxlbmd0aCddID0gQnVmZmVyLmJ5dGVMZW5ndGgodGhpcy5kYXRhKVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcblx0XHRcdFx0J3Byb3RvY29sJzogdGhpcy51cmwucHJvdG9jb2wsXG5cdFx0XHRcdCdob3N0JzogdGhpcy51cmwuaG9zdG5hbWUucmVwbGFjZSgnWycsICcnKS5yZXBsYWNlKCddJywgJycpLFxuXHRcdFx0XHQncG9ydCc6IHRoaXMudXJsLnBvcnQsXG5cdFx0XHRcdCdwYXRoJzogdGhpcy51cmwucGF0aG5hbWUgKyAodGhpcy51cmwuc2VhcmNoID09PSBudWxsID8gJycgOiB0aGlzLnVybC5zZWFyY2gpLFxuXHRcdFx0XHQnbWV0aG9kJzogdGhpcy5tZXRob2QsXG5cdFx0XHRcdCdoZWFkZXJzJzogdGhpcy5yZXFIZWFkZXJzXG5cdFx0XHR9LCB0aGlzLmNvcmVPcHRpb25zKVxuXG5cdFx0XHRsZXQgcmVxXG5cblx0XHRcdGNvbnN0IHJlc0hhbmRsZXIgPSAocmVzKSA9PiB7XG5cdFx0XHRcdGxldCBzdHJlYW0gPSByZXNcblxuXHRcdFx0XHRpZiAodGhpcy5jb21wcmVzc2lvbkVuYWJsZWQpIHtcblx0XHRcdFx0XHRpZiAocmVzLmhlYWRlcnNbJ2NvbnRlbnQtZW5jb2RpbmcnXSA9PT0gJ2d6aXAnKSB7XG5cdFx0XHRcdFx0XHRzdHJlYW0gPSByZXMucGlwZSh6bGliLmNyZWF0ZUd1bnppcCgpKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmIChyZXMuaGVhZGVyc1snY29udGVudC1lbmNvZGluZyddID09PSAnZGVmbGF0ZScpIHtcblx0XHRcdFx0XHRcdHN0cmVhbSA9IHJlcy5waXBlKHpsaWIuY3JlYXRlSW5mbGF0ZSgpKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmIChyZXMuaGVhZGVyc1snY29udGVudC1lbmNvZGluZyddID09PSAnYnInKSB7XG5cdFx0XHRcdFx0XHRzdHJlYW0gPSByZXMucGlwZSh6bGliLmNyZWF0ZUJyb3RsaURlY29tcHJlc3MoKSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgY2VudHJhUmVzXG5cblx0XHRcdFx0aWYgKHRoaXMuc3RyZWFtRW5hYmxlZCkge1xuXHRcdFx0XHRcdHJlc29sdmUoc3RyZWFtKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGNlbnRyYVJlcyA9IG5ldyBDZW50cmFSZXNwb25zZShyZXMsIHRoaXMucmVzT3B0aW9ucylcblxuXHRcdFx0XHRcdHN0cmVhbS5vbignZXJyb3InLCAoZXJyKSA9PiB7XG5cdFx0XHRcdFx0XHRyZWplY3QoZXJyKVxuXHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0XHRzdHJlYW0ub24oJ2Fib3J0ZWQnLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKCdTZXJ2ZXIgYWJvcnRlZCByZXF1ZXN0JykpXG5cdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdHN0cmVhbS5vbignZGF0YScsIChjaHVuaykgPT4ge1xuXHRcdFx0XHRcdFx0Y2VudHJhUmVzLl9hZGRDaHVuayhjaHVuaylcblxuXHRcdFx0XHRcdFx0aWYgKHRoaXMucmVzT3B0aW9ucy5tYXhCdWZmZXIgIT09IG51bGwgJiYgY2VudHJhUmVzLmJvZHkubGVuZ3RoID4gdGhpcy5yZXNPcHRpb25zLm1heEJ1ZmZlcikge1xuXHRcdFx0XHRcdFx0XHRzdHJlYW0uZGVzdHJveSgpXG5cblx0XHRcdFx0XHRcdFx0cmVqZWN0KCdSZWNlaXZlZCBhIHJlc3BvbnNlIHdoaWNoIHdhcyBsb25nZXIgdGhhbiBhY2NlcHRhYmxlIHdoZW4gYnVmZmVyaW5nLiAoJyArIHRoaXMuYm9keS5sZW5ndGggKyAnIGJ5dGVzKScpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdHN0cmVhbS5vbignZW5kJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShjZW50cmFSZXMpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy51cmwucHJvdG9jb2wgPT09ICdodHRwOicpIHtcblx0XHRcdFx0cmVxID0gaHR0cC5yZXF1ZXN0KG9wdGlvbnMsIHJlc0hhbmRsZXIpXG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICh0aGlzLnVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOicpIHtcblx0XHRcdFx0cmVxID0gaHR0cHMucmVxdWVzdChvcHRpb25zLCByZXNIYW5kbGVyKVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBVUkwgcHJvdG9jb2w6ICcgKyB0aGlzLnVybC5wcm90b2NvbClcblxuXHRcdFx0aWYgKHRoaXMudGltZW91dFRpbWUpIHtcblx0XHRcdFx0cmVxLnNldFRpbWVvdXQodGhpcy50aW1lb3V0VGltZSwgKCkgPT4ge1xuXHRcdFx0XHRcdHJlcS5hYm9ydCgpXG5cblx0XHRcdFx0XHRpZiAoIXRoaXMuc3RyZWFtRW5hYmxlZCkge1xuXHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcignVGltZW91dCByZWFjaGVkJykpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXG5cdFx0XHRyZXEub24oJ2Vycm9yJywgKGVycikgPT4ge1xuXHRcdFx0XHRyZWplY3QoZXJyKVxuXHRcdFx0fSlcblxuXHRcdFx0aWYgKHRoaXMuZGF0YSkgcmVxLndyaXRlKHRoaXMuZGF0YSlcblxuXHRcdFx0cmVxLmVuZCgpXG5cdFx0fSlcblx0fVxufVxuIiwgImNvbnN0IENlbnRyYVJlcXVlc3QgPSByZXF1aXJlKCcuL21vZGVsL0NlbnRyYVJlcXVlc3QuanMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9ICh1cmwsIG1ldGhvZCkgPT4ge1xuXHRyZXR1cm4gbmV3IENlbnRyYVJlcXVlc3QodXJsLCBtZXRob2QpXG59IiwgImNvbnN0IHtVUkx9ID0gcmVxdWlyZSgndXJsJylcblxuY29uc3QgY2VudHJhID0gcmVxdWlyZSgnY2VudHJhJylcblxuLyoqXG4qIHBoaW4gb3B0aW9ucyBvYmplY3QuIHBoaW4gYWxzbyBzdXBwb3J0cyBhbGwgb3B0aW9ucyBmcm9tIDxhIGhyZWY9XCJodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX2h0dHBfcmVxdWVzdF9vcHRpb25zX2NhbGxiYWNrXCI+aHR0cC5yZXF1ZXN0KG9wdGlvbnMsIGNhbGxiYWNrKTwvYT4gYnkgcGFzc2luZyB0aGVtIG9uIHRvIHRoaXMgbWV0aG9kIChvciBzaW1pbGFyKS5cbiogQHR5cGVkZWYge09iamVjdH0gcGhpbk9wdGlvbnNcbiogQHByb3BlcnR5IHtzdHJpbmd9IHVybCAtIFVSTCB0byByZXF1ZXN0IChhdXRvZGV0ZWN0IGluZmVycyBmcm9tIHRoaXMgVVJMKVxuKiBAcHJvcGVydHkge3N0cmluZ30gW21ldGhvZD1HRVRdIC0gUmVxdWVzdCBtZXRob2QgKCdHRVQnLCAnUE9TVCcsIGV0Yy4pXG4qIEBwcm9wZXJ0eSB7c3RyaW5nfEJ1ZmZlcnxvYmplY3R9IFtkYXRhXSAtIERhdGEgdG8gc2VuZCBhcyByZXF1ZXN0IGJvZHkgKHBoaW4gbWF5IGF0dGVtcHQgdG8gY29udmVydCB0aGlzIGRhdGEgdG8gYSBzdHJpbmcgaWYgaXQgaXNuJ3QgYWxyZWFkeSlcbiogQHByb3BlcnR5IHtPYmplY3R9IFtmb3JtXSAtIE9iamVjdCB0byBzZW5kIGFzIGZvcm0gZGF0YSAoc2V0cyAnQ29udGVudC1UeXBlJyBhbmQgJ0NvbnRlbnQtTGVuZ3RoJyBoZWFkZXJzLCBhcyB3ZWxsIGFzIHJlcXVlc3QgYm9keSkgKG92ZXJ3cml0ZXMgJ2RhdGEnIG9wdGlvbiBpZiBwcmVzZW50KVxuKiBAcHJvcGVydHkge09iamVjdH0gW2hlYWRlcnM9e31dIC0gUmVxdWVzdCBoZWFkZXJzXG4qIEBwcm9wZXJ0eSB7T2JqZWN0fSBbY29yZT17fV0gLSBDdXN0b20gY29yZSBIVFRQIG9wdGlvbnNcbiogQHByb3BlcnR5IHtzdHJpbmd9IFtwYXJzZT1ub25lXSAtIFJlc3BvbnNlIHBhcnNpbmcuIEVycm9ycyB3aWxsIGJlIGdpdmVuIGlmIHRoZSByZXNwb25zZSBjYW4ndCBiZSBwYXJzZWQuICdub25lJyByZXR1cm5zIGJvZHkgYXMgYSBgQnVmZmVyYCwgJ2pzb24nIGF0dGVtcHRzIHRvIHBhcnNlIHRoZSBib2R5IGFzIEpTT04sIGFuZCAnc3RyaW5nJyBhdHRlbXB0cyB0byBwYXJzZSB0aGUgYm9keSBhcyBhIHN0cmluZ1xuKiBAcHJvcGVydHkge2Jvb2xlYW59IFtmb2xsb3dSZWRpcmVjdHM9ZmFsc2VdIC0gRW5hYmxlIEhUVFAgcmVkaXJlY3QgZm9sbG93aW5nXG4qIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3N0cmVhbT1mYWxzZV0gLSBFbmFibGUgc3RyZWFtaW5nIG9mIHJlc3BvbnNlLiAoUmVtb3ZlcyBib2R5IHByb3BlcnR5KVxuKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjb21wcmVzc2lvbj1mYWxzZV0gLSBFbmFibGUgY29tcHJlc3Npb24gZm9yIHJlcXVlc3RcbiogQHByb3BlcnR5IHs/bnVtYmVyfSBbdGltZW91dD1udWxsXSAtIFJlcXVlc3QgdGltZW91dCBpbiBtaWxsaXNlY29uZHNcbiogQHByb3BlcnR5IHtzdHJpbmd9IFtob3N0bmFtZT1hdXRvZGV0ZWN0XSAtIFVSTCBob3N0bmFtZVxuKiBAcHJvcGVydHkge051bWJlcn0gW3BvcnQ9YXV0b2RldGVjdF0gLSBVUkwgcG9ydFxuKiBAcHJvcGVydHkge3N0cmluZ30gW3BhdGg9YXV0b2RldGVjdF0gLSBVUkwgcGF0aFxuKi9cblxuLyoqXG4qIFJlc3BvbnNlIGRhdGFcbiogQGNhbGxiYWNrIHBoaW5SZXNwb25zZUNhbGxiYWNrXG4qIEBwYXJhbSB7PyhFcnJvcnxzdHJpbmcpfSBlcnJvciAtIEVycm9yIGlmIGFueSBvY2N1cnJlZCBpbiByZXF1ZXN0LCBvdGhlcndpc2UgbnVsbC5cbiogQHBhcmFtIHs/aHR0cC5zZXJ2ZXJSZXNwb25zZX0gcGhpblJlc3BvbnNlIC0gcGhpbiByZXNwb25zZSBvYmplY3QuIExpa2UgPGEgaHJlZj0naHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9jbGFzc19odHRwX3NlcnZlcnJlc3BvbnNlJz5odHRwLlNlcnZlclJlc3BvbnNlPC9hPiBidXQgaGFzIGEgYm9keSBwcm9wZXJ0eSBjb250YWluaW5nIHJlc3BvbnNlIGJvZHksIHVubGVzcyBzdHJlYW0uIElmIHN0cmVhbSBvcHRpb24gaXMgZW5hYmxlZCwgYSBzdHJlYW0gcHJvcGVydHkgd2lsbCBiZSBwcm92aWRlZCB0byBjYWxsYmFjayB3aXRoIGEgcmVhZGFibGUgc3RyZWFtLlxuKi9cblxuLyoqXG4qIFNlbmRzIGFuIEhUVFAgcmVxdWVzdFxuKiBAcGFyYW0ge3BoaW5PcHRpb25zfHN0cmluZ30gb3B0aW9ucyAtIHBoaW4gb3B0aW9ucyBvYmplY3QgKG9yIHN0cmluZyBmb3IgYXV0by1kZXRlY3Rpb24pXG4qIEByZXR1cm5zIHtQcm9taXNlPGh0dHAuc2VydmVyUmVzcG9uc2U+fSAtIHBoaW4tYWRhcHRlZCByZXNwb25zZSBvYmplY3RcbiovXG5jb25zdCBwaGluID0gYXN5bmMgKG9wdHMpID0+IHtcblx0aWYgKHR5cGVvZihvcHRzKSAhPT0gJ3N0cmluZycpIHtcblx0XHRpZiAoIW9wdHMuaGFzT3duUHJvcGVydHkoJ3VybCcpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdXJsIG9wdGlvbiBmcm9tIG9wdGlvbnMgZm9yIHJlcXVlc3QgbWV0aG9kLicpXG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgcmVxID0gY2VudHJhKHR5cGVvZiBvcHRzID09PSAnb2JqZWN0JyA/IG9wdHMudXJsIDogb3B0cywgb3B0cy5tZXRob2QgfHwgJ0dFVCcpXG5cblx0aWYgKG9wdHMuaGVhZGVycykgcmVxLmhlYWRlcihvcHRzLmhlYWRlcnMpXG5cdGlmIChvcHRzLnN0cmVhbSkgcmVxLnN0cmVhbSgpXG5cdGlmIChvcHRzLnRpbWVvdXQpIHJlcS50aW1lb3V0KG9wdHMudGltZW91dClcblx0aWYgKG9wdHMuZGF0YSkgcmVxLmJvZHkob3B0cy5kYXRhKVxuXHRpZiAob3B0cy5mb3JtKSByZXEuYm9keShvcHRzLmZvcm0sICdmb3JtJylcblx0aWYgKG9wdHMuY29tcHJlc3Npb24pIHJlcS5jb21wcmVzcygpXG5cblx0aWYgKHR5cGVvZiBvcHRzLmNvcmUgPT09ICdvYmplY3QnKSB7XG5cdFx0T2JqZWN0LmtleXMob3B0cy5jb3JlKS5mb3JFYWNoKChvcHROYW1lKSA9PiB7XG5cdFx0XHRyZXEub3B0aW9uKG9wdE5hbWUsIG9wdHMuY29yZVtvcHROYW1lXSlcblx0XHR9KVxuXHR9XG5cblx0Y29uc3QgcmVzID0gYXdhaXQgcmVxLnNlbmQoKVxuXG5cdGlmIChyZXMuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eSgnbG9jYXRpb24nKSAmJiBvcHRzLmZvbGxvd1JlZGlyZWN0cykge1xuXHRcdG9wdHMudXJsID0gKG5ldyBVUkwocmVzLmhlYWRlcnNbJ2xvY2F0aW9uJ10sIG9wdHMudXJsKSkudG9TdHJpbmcoKVxuXG5cdFx0cmV0dXJuIGF3YWl0IHBoaW4ob3B0cylcblx0fVxuXG5cdGlmIChvcHRzLnN0cmVhbSkge1xuXHRcdHJlcy5zdHJlYW0gPSByZXNcblxuXHRcdHJldHVybiByZXNcblx0fVxuXHRlbHNlIHtcblx0XHRyZXMuY29yZVJlcy5ib2R5ID0gcmVzLmJvZHlcblxuXHRcdGlmIChvcHRzLnBhcnNlKSB7XG5cdFx0XHRpZiAob3B0cy5wYXJzZSA9PT0gJ2pzb24nKSB7XG5cdFx0XHRcdHJlcy5jb3JlUmVzLmJvZHkgPSBhd2FpdCByZXMuanNvbigpXG5cdFxuXHRcdFx0XHRyZXR1cm4gcmVzLmNvcmVSZXNcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKG9wdHMucGFyc2UgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHJlcy5jb3JlUmVzLmJvZHkgPSByZXMuY29yZVJlcy5ib2R5LnRvU3RyaW5nKClcblxuXHRcdFx0XHRyZXR1cm4gcmVzLmNvcmVSZXNcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHJlcy5jb3JlUmVzXG5cdH1cbn1cblxuLy8gSWYgd2UncmUgcnVubmluZyBOb2RlLmpzIDgrLCBsZXQncyBwcm9taXNpZnkgaXRcblxucGhpbi5wcm9taXNpZmllZCA9IHBoaW5cblxucGhpbi51bnByb21pc2lmaWVkID0gKG9wdHMsIGNiKSA9PiB7XG5cdHBoaW4ob3B0cykudGhlbigoZGF0YSkgPT4ge1xuXHRcdGlmIChjYikgY2IobnVsbCwgZGF0YSlcblx0fSkuY2F0Y2goKGVycikgPT4ge1xuXHRcdGlmIChjYikgY2IoZXJyLCBudWxsKVxuXHR9KVxufVxuXG4vLyBEZWZhdWx0c1xuXG5waGluLmRlZmF1bHRzID0gKGRlZmF1bHRPcHRzKSA9PiBhc3luYyAob3B0cykgPT4ge1xuXHRjb25zdCBub3BzID0gdHlwZW9mIG9wdHMgPT09ICdzdHJpbmcnID8geyd1cmwnOiBvcHRzfSA6IG9wdHNcblxuXHRPYmplY3Qua2V5cyhkZWZhdWx0T3B0cykuZm9yRWFjaCgoZG9LKSA9PiB7XG5cdFx0aWYgKCFub3BzLmhhc093blByb3BlcnR5KGRvSykgfHwgbm9wc1tkb0tdID09PSBudWxsKSB7XG5cdFx0XHRub3BzW2RvS10gPSBkZWZhdWx0T3B0c1tkb0tdXG5cdFx0fVxuXHR9KVxuXG5cdHJldHVybiBhd2FpdCBwaGluKG5vcHMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGhpblxuIiwgImltcG9ydCB7IEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFRyYW5zY3JpcHRWaWV3LCBUUkFOU0NSSVBUX1RZUEVfVklFVyB9IGZyb20gJ3RyYW5zY3JpcHQtdmlldyc7XG5cbmludGVyZmFjZSBZVHJhbnNjcmlwdFNldHRpbmdzIHtcbiAgdGltZXN0YW1wTW9kOiBudW1iZXI7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFlUcmFuc2NyaXB0U2V0dGluZ3MgPSB7XG4gIHRpbWVzdGFtcE1vZDogMzJcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWVRyYW5zY3JpcHQgZXh0ZW5kcyBQbHVnaW4ge1xuICBzZXR0aW5nczogWVRyYW5zY3JpcHRTZXR0aW5ncztcblxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgIHRoaXMucmVnaXN0ZXJWaWV3KFRSQU5TQ1JJUFRfVFlQRV9WSUVXLFxuICAgICAgKGxlYWYpID0+IG5ldyBUcmFuc2NyaXB0VmlldyhsZWFmKSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdmZXRjaC10cmFuc2NyaXB0JyxcbiAgICAgIG5hbWU6IFwiRmV0Y2ggdHJhbnNjcmlwdGlvblwiLFxuICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgXzogTWFya2Rvd25WaWV3KSA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKS50cmltKCk7XG4gICAgICAgIHRoaXMub3BlblZpZXcodXJsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgWVRyYW5zbGF0ZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcbiAgICAvLyB0aGlzLmFkZFJpYmJvbkljb24oJ2V5ZScsJ0JvbyEnLGU9Pnt9KTtcbiAgfVxuXG4gIGFzeW5jIG9wZW5WaWV3KHVybDogc3RyaW5nKSB7XG4gICAgY29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xuICAgIGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHtcbiAgICAgIHR5cGU6IFRSQU5TQ1JJUFRfVFlQRV9WSUVXXG4gICAgfSk7XG4gICAgdGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gICAgbGVhZi5zZXRFcGhlbWVyYWxTdGF0ZSh7XG4gICAgICB1cmwsXG4gICAgICB0aW1lc3RhbXBNb2Q6IHRoaXMuc2V0dGluZ3MudGltZXN0YW1wTW9kXG4gICAgfSk7XG4gIH1cblxuICBvbnVubG9hZCgpIHtcbiAgICB0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKFRSQU5TQ1JJUFRfVFlQRV9WSUVXKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG59XG5cbmNsYXNzIFlUcmFuc2xhdGVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogWVRyYW5zY3JpcHQ7XG4gIHZhbHVlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogWVRyYW5zY3JpcHQpIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgY29uc3QgdiA9IFsuLi5BcnJheSg5OSkua2V5cygpXTtcbiAgICB0aGlzLnZhbHVlcyA9IHYucmVkdWNlKChhY2MsIGl0ZW0pID0+IChhY2NbaXRlbS50b0ZpeGVkKCldID0gaXRlbS50b0ZpeGVkKCksIGFjYyksIHt9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4pO1xuICB9XG5cbiAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnU2V0dGluZ3MgZm9yIFlUcmFuc2xhdGUnIH0pO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnVGltZXN0YW1wIG1vZCcpXG4gICAgICAuc2V0RGVzYygnSW5kaWNhdGVzIGhvdyBvZnRlbiB0aW1lc3RhbXAgc2hvdWxkIG9jY3VyZSBpbiB0ZXh0ICgxIC0gZXZlcnkgbGluZSwgMTAgLSBldmVyeSAxMCBsaW5lcyknKVxuICAgICAgLmFkZERyb3Bkb3duKHYgPT4gdlxuICAgICAgICAuYWRkT3B0aW9ucyh0aGlzLnZhbHVlcylcbiAgICAgICAgLnNldFZhbHVlKHRoaXMudmFsdWVzWyczMiddKVxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1RpbWVzdGFtcDonICsgdmFsdWUpO1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRpbWVzdGFtcE1vZCA9IE51bWJlci5wYXJzZUludCh2YWx1ZSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgWW91dHViZVRyYW5zY3JpcHQgZnJvbSBcInlvdXR1YmUtdHJhbnNjcmlwdFwiO1xuXG5leHBvcnQgY29uc3QgVFJBTlNDUklQVF9UWVBFX1ZJRVcgPSBcInRyYW5zY3JpcHQtdmlld1wiO1xuY29uc3QgZm9ybWF0VGltZXN0YW1wID0gKHQ6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGZudW0gPSAobjogbnVtYmVyKSA9PiAobiAmJiBuIDwgMTApID8gXCIwXCIgKyBuLnRvRml4ZWQoKSA6IG4udG9GaXhlZCgpO1xuICBjb25zdCBzID0gMTAwMDtcbiAgY29uc3QgbSA9IDYwICogcztcbiAgY29uc3QgaCA9IDYwICogbTtcbiAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHQgLyBoKTtcbiAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKHQgLSBob3VycyAqIGgpIC8gbSk7XG4gIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKCh0IC0gbWludXRlcyAqIG0pIC8gcyk7XG4gIGNvbnN0IHRpbWUgPSBob3VycyA/IFtob3VycywgbWludXRlcywgc2Vjb25kc10gOiBbbWludXRlcywgc2Vjb25kc107XG4gIHJldHVybiB0aW1lLm1hcChmbnVtKS5qb2luKCc6Jylcbn1cbmV4cG9ydCBjbGFzcyBUcmFuc2NyaXB0VmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcblxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmKSB7XG4gICAgc3VwZXIobGVhZik7XG4gIH1cblxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBUUkFOU0NSSVBUX1RZUEVfVklFVztcbiAgfVxuICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIlRyYW5zY3JpcHRcIjtcbiAgfVxuICBwcm90ZWN0ZWQgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcImg0XCIsIHsgdGV4dDogXCJUcmFuc2NyaXB0XCIgfSk7XG4gIH1cbiAgc2V0RXBoZW1lcmFsU3RhdGUoeyB1cmwsIHRpbWVzdGFtcE1vZCB9OiBhbnkpOiB2b2lkIHtcbiAgICBZb3V0dWJlVHJhbnNjcmlwdC5mZXRjaFRyYW5zY3JpcHQodXJsKVxuICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIHZhciBkaXYgPSBjcmVhdGVFbCgnZGl2Jyk7XG5cbiAgICAgICAgZGF0YS5mb3JFYWNoKChsaW5lLCBpKSA9PiB7XG4gICAgICAgICAgaWYgKGkgJSB0aW1lc3RhbXBNb2QgPT0gMCkge1xuICAgICAgICAgICAgZGl2ID0gY3JlYXRlRWwoJ2RpdicpO1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gY3JlYXRlRWwoJ2J1dHRvbicsIHsgY2xzOiBcInRpbWVzdGFtcFwiLCBhdHRyOiB7IFwiZGF0YS10aW1lc3RhbXBcIjogbGluZS5vZmZzZXQudG9GaXhlZCgpIH0gfSk7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gY3JlYXRlRWwoJ2EnLCB7IHRleHQ6IGZvcm1hdFRpbWVzdGFtcChsaW5lLm9mZnNldCksIGF0dHI6IHsgXCJocmVmXCI6IHVybCArICcmdD0nICsgTWF0aC5mbG9vcihsaW5lLm9mZnNldCAvIDEwMDApIH0gfSk7XG4gICAgICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICAgICAgICAvLyBidXR0b24uaW5uZXJUZXh0ID0gZm9ybWF0VGltZXN0YW1wKGxpbmUub2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHNwYW4gPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbCgnc3BhbicsIHsgY2xzOiBcInRyYW5zY3JpcHQtbGluZVwiLCB0ZXh0OiBsaW5lLnRleHQgKyBcIiBcIiB9KTtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50RWwuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHNwYW4gPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbCgnc3BhbicsIHsgY2xzOiBcInRyYW5zY3JpcHQtbGluZVwiLCB0ZXh0OiBsaW5lLnRleHQgKyBcIiBcIiB9KTtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgfVxufVxuIiwgImltcG9ydCBwIGZyb20gJ3BoaW4nO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XG5cbnZhciBSRV9ZT1VUVUJFID0gL14uKig/Oig/OnlvdXR1XFwuYmVcXC98dlxcL3x2aVxcL3x1XFwvXFx3XFwvfGVtYmVkXFwvKXwoPzooPzp3YXRjaCk/XFw/dig/OmkpPz18XFwmdig/OmkpPz0pKShbXiNcXCZcXD9dKikuKi9pbTtcclxudmFyIFlvdXR1YmVUcmFuc2NyaXB0RXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoWW91dHViZVRyYW5zY3JpcHRFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFlvdXR1YmVUcmFuc2NyaXB0RXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBcIltZb3V0dWJlVHJhbnNjcmlwdF0gXFx1RDgzRFxcdURFQTggXCIgKyBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFlvdXR1YmVUcmFuc2NyaXB0RXJyb3I7XHJcbn0oRXJyb3IpKTtcclxuLyoqXHJcbiAqIENsYXNzIHRvIHJldHJpZXZlIHRyYW5zY3JpcHQgaWYgZXhpc3RcclxuICovXHJcbnZhciBZb3V0dWJlVHJhbnNjcmlwdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFlvdXR1YmVUcmFuc2NyaXB0KCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGZXRjaCB0cmFuc2NyaXB0IGZyb20gWVRCIFZpZGVvXHJcbiAgICAgKiBAcGFyYW0gdmlkZW9JZCBWaWRlbyB1cmwgb3IgdmlkZW8gaWRlbnRpZmllclxyXG4gICAgICogQHBhcmFtIGNvbmZpZyBHZXQgdHJhbnNjcmlwdCBpbiBhbm90aGVyIGNvdW50cnkgYW5kIGxhbmd1YWdlIElTT1xyXG4gICAgICovXHJcbiAgICBZb3V0dWJlVHJhbnNjcmlwdC5mZXRjaFRyYW5zY3JpcHQgPSBmdW5jdGlvbiAodmlkZW9JZCwgY29uZmlnKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaWRlbnRpZmllciwgdmlkZW9QYWdlQm9keSwgaW5uZXJUdWJlQXBpS2V5LCBib2R5LCB0cmFuc2NyaXB0cywgZV8xO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyID0gdGhpcy5yZXRyaWV2ZVZpZGVvSWQodmlkZW9JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgNSwgLCA2XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHAoXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PVwiICsgaWRlbnRpZmllcildO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9QYWdlQm9keSA9IChfYS5zZW50KCkpLmJvZHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVHViZUFwaUtleSA9IHZpZGVvUGFnZUJvZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ1wiSU5ORVJUVUJFX0FQSV9LRVlcIjpcIicpWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJ1wiJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGlubmVyVHViZUFwaUtleSAmJiBpbm5lclR1YmVBcGlLZXkubGVuZ3RoID4gMCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20veW91dHViZWkvdjEvZ2V0X3RyYW5zY3JpcHQ/a2V5PVwiICsgaW5uZXJUdWJlQXBpS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0KHZpZGVvUGFnZUJvZHkudG9TdHJpbmcoKSwgY29uZmlnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA9IChfYS5zZW50KCkpLmJvZHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2R5LnJlc3BvbnNlQ29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFib2R5LmFjdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zY3JpcHQgaXMgZGlzYWJsZWQgb24gdGhpcyB2aWRlbycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdHMgPSBib2R5LmFjdGlvbnNbMF0udXBkYXRlRW5nYWdlbWVudFBhbmVsQWN0aW9uLmNvbnRlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHJhbnNjcmlwdFJlbmRlcmVyLmJvZHkudHJhbnNjcmlwdEJvZHlSZW5kZXJlci5jdWVHcm91cHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJhbnNjcmlwdHMubWFwKGZ1bmN0aW9uIChjdWUpIHsgcmV0dXJuICh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGN1ZS50cmFuc2NyaXB0Q3VlR3JvdXBSZW5kZXJlci5jdWVzWzBdLnRyYW5zY3JpcHRDdWVSZW5kZXJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmN1ZS5zaW1wbGVUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogcGFyc2VJbnQoY3VlLnRyYW5zY3JpcHRDdWVHcm91cFJlbmRlcmVyLmN1ZXNbMF0udHJhbnNjcmlwdEN1ZVJlbmRlcmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb25NcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogcGFyc2VJbnQoY3VlLnRyYW5zY3JpcHRDdWVHcm91cFJlbmRlcmVyLmN1ZXNbMF0udHJhbnNjcmlwdEN1ZVJlbmRlcmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3RhcnRPZmZzZXRNcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzMgLypicmVhayovLCA2XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFlvdXR1YmVUcmFuc2NyaXB0RXJyb3IoZV8xKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSB0cmFja2luZyBwYXJhbXMgZm9yIFlUQiBBUElcclxuICAgICAqIEBwYXJhbSBwYWdlXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnXHJcbiAgICAgKi9cclxuICAgIFlvdXR1YmVUcmFuc2NyaXB0LmdlbmVyYXRlUmVxdWVzdCA9IGZ1bmN0aW9uIChwYWdlLCBjb25maWcpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XHJcbiAgICAgICAgdmFyIHBhcmFtcyA9IChfYSA9IHBhZ2Uuc3BsaXQoJ1wic2VyaWFsaXplZFNoYXJlRW50aXR5XCI6XCInKVsxXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCdcIicpWzBdO1xyXG4gICAgICAgIHZhciB2aXNpdG9yRGF0YSA9IChfYiA9IHBhZ2Uuc3BsaXQoJ1wiVklTSVRPUl9EQVRBXCI6XCInKVsxXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNwbGl0KCdcIicpWzBdO1xyXG4gICAgICAgIHZhciBzZXNzaW9uSWQgPSAoX2MgPSBwYWdlLnNwbGl0KCdcInNlc3Npb25JZFwiOlwiJylbMV0pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zcGxpdCgnXCInKVswXTtcclxuICAgICAgICB2YXIgY2xpY2tUcmFja2luZ1BhcmFtcyA9IChfZCA9IHBhZ2UgPT09IG51bGwgfHwgcGFnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFnZS5zcGxpdCgnXCJjbGlja1RyYWNraW5nUGFyYW1zXCI6XCInKVsxXSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNwbGl0KCdcIicpWzBdO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbnRleHQ6IHtcclxuICAgICAgICAgICAgICAgIGNsaWVudDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGhsOiAoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLmxhbmcpIHx8ICdmcicsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2w6IChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuY291bnRyeSkgfHwgJ0ZSJyxcclxuICAgICAgICAgICAgICAgICAgICB2aXNpdG9yRGF0YTogdmlzaXRvckRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckFnZW50OiAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg1LjAuNDE4My44MyBTYWZhcmkvNTM3LjM2LGd6aXAoZ2ZlKScsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50TmFtZTogJ1dFQicsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50VmVyc2lvbjogJzIuMjAyMDA5MjUuMDEuMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgIG9zTmFtZTogJ01hY2ludG9zaCcsXHJcbiAgICAgICAgICAgICAgICAgICAgb3NWZXJzaW9uOiAnMTBfMTVfNCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYnJvd3Nlck5hbWU6ICdDaHJvbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJyb3dzZXJWZXJzaW9uOiAnODUuMGYuNDE4My44MycsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuV2lkdGhQb2ludHM6IDE0NDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuSGVpZ2h0UG9pbnRzOiA3NzAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuUGl4ZWxEZW5zaXR5OiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHV0Y09mZnNldE1pbnV0ZXM6IDEyMCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VySW50ZXJmYWNlVGhlbWU6ICdVU0VSX0lOVEVSRkFDRV9USEVNRV9MSUdIVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvblR5cGU6ICdDT05OX0NFTExVTEFSXzNHJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxFeHBlcmltZW50RmxhZ3M6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNpc3RlbmN5VG9rZW5KYXJzOiBbXSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB1c2VyOiB7fSxcclxuICAgICAgICAgICAgICAgIGNsaWVudFNjcmVlbk5vbmNlOiB0aGlzLmdlbmVyYXRlTm9uY2UoKSxcclxuICAgICAgICAgICAgICAgIGNsaWNrVHJhY2tpbmc6IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlja1RyYWNraW5nUGFyYW1zOiBjbGlja1RyYWNraW5nUGFyYW1zLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqICAnYmFzZS5qcycgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgWW91dHViZVRyYW5zY3JpcHQuZ2VuZXJhdGVOb25jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcm5kID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygpO1xyXG4gICAgICAgIHZhciBhbHBoYWJldCA9ICdBQkNERUZHSElKS0xNT1BRUlNUVVZXWFlaYWJjZGVmZ2hqaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XHJcbiAgICAgICAgdmFyIGpkYSA9IFtcclxuICAgICAgICAgICAgYWxwaGFiZXQgKyAnKy89JyxcclxuICAgICAgICAgICAgYWxwaGFiZXQgKyAnKy8nLFxyXG4gICAgICAgICAgICBhbHBoYWJldCArICctXz0nLFxyXG4gICAgICAgICAgICBhbHBoYWJldCArICctXy4nLFxyXG4gICAgICAgICAgICBhbHBoYWJldCArICctXycsXHJcbiAgICAgICAgXTtcclxuICAgICAgICB2YXIgYiA9IGpkYVszXTtcclxuICAgICAgICB2YXIgYSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm5kLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICBhLnB1c2gocm5kW2ldLmNoYXJDb2RlQXQoaSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYyA9ICcnO1xyXG4gICAgICAgIHZhciBkID0gMDtcclxuICAgICAgICB2YXIgbSwgbiwgcSwgciwgZiwgZztcclxuICAgICAgICB3aGlsZSAoZCA8IGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGYgPSBhW2RdO1xyXG4gICAgICAgICAgICBnID0gZCArIDEgPCBhLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKGcpIHtcclxuICAgICAgICAgICAgICAgIG0gPSBhW2QgKyAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG4gPSBkICsgMiA8IGEubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAobikge1xyXG4gICAgICAgICAgICAgICAgcSA9IGFbZCArIDJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgciA9IGYgPj4gMjtcclxuICAgICAgICAgICAgZiA9ICgoZiAmIDMpIDw8IDQpIHwgKG0gPj4gNCk7XHJcbiAgICAgICAgICAgIG0gPSAoKG0gJiAxNSkgPDwgMikgfCAocSA+PiA2KTtcclxuICAgICAgICAgICAgcSAmPSA2MztcclxuICAgICAgICAgICAgaWYgKCFuKSB7XHJcbiAgICAgICAgICAgICAgICBxID0gNjQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtID0gNjQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYyArPSBiW3JdICsgYltmXSArIGJbbV0gKyBiW3FdO1xyXG4gICAgICAgICAgICBkICs9IDM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmUgdmlkZW8gaWQgZnJvbSB1cmwgb3Igc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gdmlkZW9JZCB2aWRlbyB1cmwgb3IgdmlkZW8gaWRcclxuICAgICAqL1xyXG4gICAgWW91dHViZVRyYW5zY3JpcHQucmV0cmlldmVWaWRlb0lkID0gZnVuY3Rpb24gKHZpZGVvSWQpIHtcclxuICAgICAgICBpZiAodmlkZW9JZC5sZW5ndGggPT09IDExKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWRlb0lkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbWF0Y2hJZCA9IFJFX1lPVVRVQkUuZXhlYyh2aWRlb0lkKTtcclxuICAgICAgICBpZiAobWF0Y2hJZCAmJiBtYXRjaElkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hJZFsxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IFlvdXR1YmVUcmFuc2NyaXB0RXJyb3IoJ0ltcG9zc2libGUgdG8gcmV0cmlldmUgWW91dHViZSB2aWRlbyBJRC4nKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gWW91dHViZVRyYW5zY3JpcHQ7XHJcbn0oKSk7XG5cbmV4cG9ydCBkZWZhdWx0IFlvdXR1YmVUcmFuc2NyaXB0O1xuZXhwb3J0IHsgWW91dHViZVRyYW5zY3JpcHRFcnJvciB9O1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBLFlBQU8sVUFBVSxNQUFNLGVBQWU7QUFBQSxNQUNyQyxZQUFhLEtBQUssWUFBWTtBQUM3QixhQUFLLFVBQVU7QUFDZixhQUFLLGFBQWE7QUFFbEIsYUFBSyxPQUFPLE9BQU8sTUFBTSxDQUFDO0FBRTFCLGFBQUssVUFBVSxJQUFJO0FBQ25CLGFBQUssYUFBYSxJQUFJO0FBQUEsTUFDdkI7QUFBQSxNQUVBLFVBQVcsT0FBTztBQUNqQixhQUFLLE9BQU8sT0FBTyxPQUFPLENBQUMsS0FBSyxNQUFNLEtBQUssQ0FBQztBQUFBLE1BQzdDO0FBQUEsTUFFQSxNQUFNLE9BQVE7QUFDYixlQUFPLEtBQUssZUFBZSxNQUFNLE9BQU8sS0FBSyxNQUFNLEtBQUssSUFBSTtBQUFBLE1BQzdEO0FBQUEsTUFFQSxNQUFNLE9BQVE7QUFDYixlQUFPLEtBQUssS0FBSyxTQUFTO0FBQUEsTUFDM0I7QUFBQSxJQUNEO0FBQUE7QUFBQTs7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
